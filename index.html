<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JOIminator - Ultimate Pleasure Control</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background: linear-gradient(135deg, #1a0033, #330066);
            min-height: 100vh;
            color: white;
        }
        #overlay {
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid #ff00ff;
            box-shadow: 0 0 20px #ff00ff;
            text-shadow: 0 0 10px #ff00ff;
        }
        .glow-button {
            transition: all 0.3s ease;
        }
        .glow-button:hover {
            box-shadow: 0 0 15px #ff00ff, 0 0 30px #ff0066;
        }
    </style>
</head>
<body class="flex flex-col items-center p-6">
    <h1 class="text-5xl font-bold text-pink-500 mb-4 text-center drop-shadow-lg">JOIminator</h1>
    <p class="text-lg text-purple-300 mb-6 text-center max-w-md">Unleash your desires with custom jerk off instructions overlaid on any video. Set the pace, feel the rush!</p>

    <div class="w-full max-w-md bg-gray-900 p-6 rounded-lg shadow-lg shadow-pink-500/50">
        <label for="embed-code" class="block text-lg font-semibold text-pink-400 mb-2">Video Embed Code (iframe):</label>
        <textarea id="embed-code" rows="3" class="w-full bg-gray-800 text-white p-3 rounded border border-purple-500 focus:outline-none focus:ring-2 focus:ring-pink-500" placeholder="Paste your iframe embed code here (e.g., from YouTube)"></textarea>

        <label for="instructions-input" class="block text-lg font-semibold text-pink-400 mt-4 mb-2">Instructions (one per line):</label>
        <textarea id="instructions-input" rows="5" class="w-full bg-gray-800 text-white p-3 rounded border border-purple-500 focus:outline-none focus:ring-2 focus:ring-pink-500" placeholder="Enter instructions here, one per line">Stroke slowly
Speed up
Take a break</textarea>

        <label for="interval" class="block text-lg font-semibold text-pink-400 mt-4 mb-2">Interval (seconds between rounds):</label>
        <input type="number" id="interval" value="10" min="1" class="w-full bg-gray-800 text-white p-3 rounded border border-purple-500 focus:outline-none focus:ring-2 focus:ring-pink-500">

        <label for="duration" class="block text-lg font-semibold text-pink-400 mt-4 mb-2">Duration (seconds per round):</label>
        <input type="number" id="duration" value="5" min="1" class="w-full bg-gray-800 text-white p-3 rounded border border-purple-500 focus:outline-none focus:ring-2 focus:ring-pink-500">

        <button onclick="startOverlay()" class="mt-6 w-full bg-pink-600 text-white py-3 rounded-lg font-bold text-lg glow-button">Start the Pleasure</button>
    </div>

    <div id="video-container" class="relative mt-8"></div>

    <script>
        let countdownInterval = null;

        function startOverlay() {
            // Clear any existing countdown
            if (countdownInterval) clearInterval(countdownInterval);

            // Get user inputs
            let embedCode = document.getElementById('embed-code').value;
            let instructionsText = document.getElementById('instructions-input').value;
            let instructions = instructionsText.split('\n').filter(line => line.trim() !== '');
            let interval = parseInt(document.getElementById('interval').value) * 1000;
            let duration = parseInt(document.getElementById('duration').value) * 1000;

            // Parse embed code to adjust container size
            let tempDiv = document.createElement('div');
            tempDiv.innerHTML = embedCode;
            let iframe = tempDiv.querySelector('iframe');
            if (iframe) {
                let width = iframe.getAttribute('width') || '640';
                let height = iframe.getAttribute('height') || '360';
                document.getElementById('video-container').style.width = width + 'px';
                document.getElementById('video-container').style.height = height + 'px';
            }

            // Embed video and overlay
            document.getElementById('video-container').innerHTML = embedCode + '<div id="overlay" class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 p-4 rounded-lg text-center text-2xl text-white hidden"></div>';

            // Start overlay cycle
            setInterval(function() {
                if (instructions.length > 0) {
                    let randomIndex = Math.floor(Math.random() * instructions.length);
                    let strokeCount = Math.floor(Math.random() * 41) + 10; // Random strokes between 10 and 50
                    let overlay = document.getElementById('overlay');
                    let remainingSeconds = duration / 1000;

                    // Display instruction, stroke count, and initial countdown
                    overlay.innerHTML = `${instructions[randomIndex]}<br><span class="text-pink-400">Stroke ${strokeCount} times in ${remainingSeconds} seconds!</span>`;
                    overlay.style.display = 'block';

                    // Start countdown
                    countdownInterval = setInterval(function() {
                        remainingSeconds--;
                        if (remainingSeconds >= 0) {
                            overlay.innerHTML = `${instructions[randomIndex]}<br><span class="text-pink-400">Stroke ${strokeCount} times in ${remainingSeconds} seconds!</span>`;
                        } else {
                            clearInterval(countdownInterval);
                            overlay.style.display = 'none';
                        }
                    }, 1000);

                    // Hide overlay after duration
                    setTimeout(function() {
                        clearInterval(countdownInterval);
                        overlay.style.display = 'none';
                    }, duration);
                }
            }, interval);
        }
    </script>
</body>
</html>
